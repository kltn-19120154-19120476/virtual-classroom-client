(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[277],{4736:function(e,r,n){"use strict";var t=n(64836);r.Z=void 0;var s=t(n(64938)),a=n(85893),o=(0,s.default)((0,a.jsx)("path",{d:"M3 3v18h18V3H3zm14 12.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"DisabledByDefault");r.Z=o},9869:function(e,r,n){"use strict";var t=n(64836);r.Z=void 0;var s=t(n(64938)),a=n(85893),o=(0,s.default)((0,a.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"ModeEdit");r.Z=o},66818:function(e,r,n){"use strict";var t=n(64836);r.Z=void 0;var s=t(n(64938)),a=n(85893),o=(0,s.default)((0,a.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}),"Save");r.Z=o},87357:function(e,r,n){"use strict";n.d(r,{Z:function(){return x}});var t=n(87462),s=n(63366),a=n(67294),o=n(86010),i=n(49731),l=n(86523),d=n(39707),u=n(96682),c=n(85893);let f=["className","component"];var p=n(37078),m=n(21265);let w=(0,m.Z)(),v=function(e={}){let{defaultTheme:r,defaultClassName:n="MuiBox-root",generateClassName:p}=e,m=(0,i.ZP)("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(l.Z),w=a.forwardRef(function(e,a){let i=(0,u.Z)(r),l=(0,d.Z)(e),{className:w,component:v="div"}=l,x=(0,s.Z)(l,f);return(0,c.jsx)(m,(0,t.Z)({as:v,ref:a,className:(0,o.Z)(w,p?p(n):n),theme:i},x))});return w}({defaultTheme:w,defaultClassName:"MuiBox-root",generateClassName:p.Z.generate});var x=v},39707:function(e,r,n){"use strict";n.d(r,{Z:function(){return d}});var t=n(87462),s=n(63366),a=n(59766),o=n(44920);let i=["sx"],l=e=>{var r,n;let t={systemProps:{},otherProps:{}},s=null!=(r=null==e?void 0:null==(n=e.theme)?void 0:n.unstable_sxConfig)?r:o.Z;return Object.keys(e).forEach(r=>{s[r]?t.systemProps[r]=e[r]:t.otherProps[r]=e[r]}),t};function d(e){let{sx:r}=e,n=(0,s.Z)(e,i),{systemProps:o,otherProps:d}=l(n),u;return u=Array.isArray(r)?[o,...r]:"function"==typeof r?(...e)=>{let n=r(...e);return(0,a.P)(n)?(0,t.Z)({},o,n):o}:(0,t.Z)({},o,r),(0,t.Z)({},d,{sx:u})}},89748:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return k}});var t=n(67294),s=n(79013),a=n(59499),o=n(50029),i=n(87794),l=n.n(i),d=n(47533),u=n(4736),c=n(9869),f=n(66818),p=n(69661),m=n(98271),w=n(83321),v=n(87357),x=n(87536),h=n(74231),b=n(65265),y=n(713),Z=n(90595),j=n.n(Z),_=n(85893);function P(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,t)}return n}function N(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?P(Object(n),!0).forEach(function(r){(0,a.Z)(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var g=function(e){var r=e.user,n=(0,t.useState)(!1),s=n[0],a=n[1],i=(0,t.useState)((null==r?void 0:r.name)||"default-name"),Z=i[0];i[1];var P,g=h.Ry({password:h.Z_().required("Password is required"),newPassword:h.Z_().required("New password is required"),confirmedNewPassword:h.Z_().oneOf([h.iH("newPassword"),null],"Password and confirm password does not match")}).required(),O=(0,x.cI)({resolver:(0,d.X)(g)}),k=O.formState.errors,C=O.control,E=O.handleSubmit,R=(P=(0,o.Z)(l().mark(function e(r){var n,t;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s){e.next=4;break}a(!0),e.next=24;break;case 4:return n={name:r.name,password:r.password,newPassword:r.newPassword},e.prev=5,e.next=8,(0,b.gS)(n);case 8:if("OK"!==(t=e.sent).status){e.next=14;break}return e.next=12,(0,y.Xr)("Update information successfully!");case 12:e.next=16;break;case 14:return e.next=16,(0,y.Xr)("ERROR",t.message);case 16:a(!1),e.next=24;break;case 19:return e.prev=19,e.t0=e.catch(5),e.next=23,(0,y.Xr)("ERROR",e.t0.response.data.message);case 23:a(!1);case 24:case"end":return e.stop()}},e,null,[[5,19]])})),function(e){return P.apply(this,arguments)}),S=function(e){a(e)};return(0,_.jsx)("div",{className:j().wapper,children:(0,_.jsxs)("div",{className:j().profile,children:[(0,_.jsx)(p.Z,{className:j().avatar,children:null==r?void 0:r.name[0]}),(0,_.jsxs)(v.Z,{className:j().info,component:"form",noValidate:!0,autoComplete:"off",onSubmit:E(function(e){return R(e)}),children:[(0,_.jsxs)(v.Z,{children:[(0,_.jsx)(x.Qr,{name:"name",defaultValue:Z,control:C,render:function(e){var r=e.field;return(0,_.jsx)(m.Z,N({className:j().infoField,label:"Name",variant:"outlined",type:"name",disabled:!s,style:{display:"inline-flex"}},r))}}),(0,_.jsx)(m.Z,{className:j().infoField,id:"email",label:"Email",variant:"outlined",value:null==r?void 0:r.email,disabled:!0}),(0,_.jsx)(x.Qr,{name:"password",defaultValue:"",control:C,render:function(e){var r,n=e.field;return(0,_.jsx)(m.Z,N({error:!!(null!=k&&k.password),helperText:null==k?void 0:null===(r=k.password)||void 0===r?void 0:r.message,className:j().infoField,label:"Current password",variant:"outlined",type:"password",autoComplete:"current-password",disabled:!s,style:s?{display:"inline-flex",width:"100%"}:{display:"none"}},n))}}),(0,_.jsx)(x.Qr,{name:"newPassword",defaultValue:"",control:C,render:function(e){var r,n=e.field;return(0,_.jsx)(m.Z,N({className:j().infoField,error:!!(null!=k&&k.newPassword),helperText:null==k?void 0:null===(r=k.newPassword)||void 0===r?void 0:r.message,label:"New password",variant:"outlined",type:"password",autoComplete:"new-password",disabled:!s,style:s?{display:"inline-flex",width:"100%"}:{display:"none"}},n))}}),(0,_.jsx)(x.Qr,{name:"confirmedNewPassword",defaultValue:"",control:C,render:function(e){var r,n=e.field;return(0,_.jsx)(m.Z,N({className:j().infoField,error:!!(null!=k&&k.confirmedNewPassword),helperText:null==k?void 0:null===(r=k.confirmedNewPassword)||void 0===r?void 0:r.message,label:"Confirm new password",variant:"outlined",type:"password",autoComplete:"confirm-new-password",disabled:!s,style:s?{display:"inline-flex",width:"100%"}:{display:"none"}},n))}})]}),(0,_.jsxs)(v.Z,{sx:{width:"100%",textAlign:"center"},children:[!s&&(0,_.jsxs)(w.Z,{variant:"contained",className:"btnPrimary custom-button",type:"button",sx:{marginRight:"20px"},onClick:function(){S(!0)},children:[(0,_.jsx)(c.Z,{}),"\xa0Edit"]}),s&&(0,_.jsxs)(w.Z,{variant:"contained",className:"btnPrimary custom-button",type:"submit",sx:{marginRight:"20px"},children:[(0,_.jsx)(f.Z,{}),"\xa0Save"]}),s&&(0,_.jsxs)(w.Z,{variant:"contained",className:"btnLightPrimiary custom-button",type:"button",onClick:function(){S(!1)},children:[(0,_.jsx)(u.Z,{}),"\xa0Cancel"]})]})]})]})})},O=n(49214),k=function(){var e=(0,t.useContext)(O.V),r=e.user,n=e.isLoadingAuth;return e.isAuthenticated||(window.location.href="/login"),!r||n?(0,_.jsx)(s.Z,{}):(0,_.jsx)(g,{user:r})}},19344:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile",function(){return n(89748)}])},90595:function(e){e.exports={wapper:"styles_wapper__g_WTt",profile:"styles_profile__b3FXn",avatar:"styles_avatar__koD2I",info:"styles_info__JffqU",infoField:"styles_infoField__hs8xR",contributedList:"styles_contributedList__mNzga"}}},function(e){e.O(0,[271,536,491,774,888,179],function(){return e(e.s=19344)}),_N_E=e.O()}]);