"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[382],{77533:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{ZP:function(){return Drawer_Drawer}});var objectWithoutPropertiesLoose=__webpack_require__(63366),esm_extends=__webpack_require__(87462),react=__webpack_require__(67294),clsx_m=__webpack_require__(86010),composeClasses=__webpack_require__(94780),Modal=__webpack_require__(80437),Transition=__webpack_require__(8662),debounce=__webpack_require__(57144),useForkRef=__webpack_require__(51705),useTheme=__webpack_require__(2734),utils=__webpack_require__(30577),ownerWindow=__webpack_require__(5340),jsx_runtime=__webpack_require__(85893);let _excluded=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function setTranslateValue(direction,node,containerProp){let resolvedContainer="function"==typeof containerProp?containerProp():containerProp,transform=function(direction,node,resolvedContainer){let transform;let rect=node.getBoundingClientRect(),containerRect=resolvedContainer&&resolvedContainer.getBoundingClientRect(),containerWindow=(0,ownerWindow.Z)(node);if(node.fakeTransform)transform=node.fakeTransform;else{let computedStyle=containerWindow.getComputedStyle(node);transform=computedStyle.getPropertyValue("-webkit-transform")||computedStyle.getPropertyValue("transform")}let offsetX=0,offsetY=0;if(transform&&"none"!==transform&&"string"==typeof transform){let transformValues=transform.split("(")[1].split(")")[0].split(",");offsetX=parseInt(transformValues[4],10),offsetY=parseInt(transformValues[5],10)}return"left"===direction?containerRect?`translateX(${containerRect.right+offsetX-rect.left}px)`:`translateX(${containerWindow.innerWidth+offsetX-rect.left}px)`:"right"===direction?containerRect?`translateX(-${rect.right-containerRect.left-offsetX}px)`:`translateX(-${rect.left+rect.width-offsetX}px)`:"up"===direction?containerRect?`translateY(${containerRect.bottom+offsetY-rect.top}px)`:`translateY(${containerWindow.innerHeight+offsetY-rect.top}px)`:containerRect?`translateY(-${rect.top-containerRect.top+rect.height-offsetY}px)`:`translateY(-${rect.top+rect.height-offsetY}px)`}(direction,node,resolvedContainer);transform&&(node.style.webkitTransform=transform,node.style.transform=transform)}let Slide=react.forwardRef(function(props,ref){let theme=(0,useTheme.Z)(),defaultEasing={enter:theme.transitions.easing.easeOut,exit:theme.transitions.easing.sharp},defaultTimeout={enter:theme.transitions.duration.enteringScreen,exit:theme.transitions.duration.leavingScreen},{addEndListener,appear=!0,children,container:containerProp,direction="down",easing:easingProp=defaultEasing,in:inProp,onEnter,onEntered,onEntering,onExit,onExited,onExiting,style,timeout=defaultTimeout,TransitionComponent=Transition.ZP}=props,other=(0,objectWithoutPropertiesLoose.Z)(props,_excluded),childrenRef=react.useRef(null),handleRef=(0,useForkRef.Z)(children.ref,childrenRef,ref),normalizedTransitionCallback=callback=>isAppearing=>{callback&&(void 0===isAppearing?callback(childrenRef.current):callback(childrenRef.current,isAppearing))},handleEnter=normalizedTransitionCallback((node,isAppearing)=>{setTranslateValue(direction,node,containerProp),(0,utils.n)(node),onEnter&&onEnter(node,isAppearing)}),handleEntering=normalizedTransitionCallback((node,isAppearing)=>{let transitionProps=(0,utils.C)({timeout,style,easing:easingProp},{mode:"enter"});node.style.webkitTransition=theme.transitions.create("-webkit-transform",(0,esm_extends.Z)({},transitionProps)),node.style.transition=theme.transitions.create("transform",(0,esm_extends.Z)({},transitionProps)),node.style.webkitTransform="none",node.style.transform="none",onEntering&&onEntering(node,isAppearing)}),handleEntered=normalizedTransitionCallback(onEntered),handleExiting=normalizedTransitionCallback(onExiting),handleExit=normalizedTransitionCallback(node=>{let transitionProps=(0,utils.C)({timeout,style,easing:easingProp},{mode:"exit"});node.style.webkitTransition=theme.transitions.create("-webkit-transform",transitionProps),node.style.transition=theme.transitions.create("transform",transitionProps),setTranslateValue(direction,node,containerProp),onExit&&onExit(node)}),handleExited=normalizedTransitionCallback(node=>{node.style.webkitTransition="",node.style.transition="",onExited&&onExited(node)}),handleAddEndListener=next=>{addEndListener&&addEndListener(childrenRef.current,next)},updatePosition=react.useCallback(()=>{childrenRef.current&&setTranslateValue(direction,childrenRef.current,containerProp)},[direction,containerProp]);return react.useEffect(()=>{if(inProp||"down"===direction||"right"===direction)return;let handleResize=(0,debounce.Z)(()=>{childrenRef.current&&setTranslateValue(direction,childrenRef.current,containerProp)}),containerWindow=(0,ownerWindow.Z)(childrenRef.current);return containerWindow.addEventListener("resize",handleResize),()=>{handleResize.clear(),containerWindow.removeEventListener("resize",handleResize)}},[direction,inProp,containerProp]),react.useEffect(()=>{inProp||updatePosition()},[inProp,updatePosition]),(0,jsx_runtime.jsx)(TransitionComponent,(0,esm_extends.Z)({nodeRef:childrenRef,onEnter:handleEnter,onEntered:handleEntered,onEntering:handleEntering,onExit:handleExit,onExited:handleExited,onExiting:handleExiting,addEndListener:handleAddEndListener,appear:appear,in:inProp,timeout:timeout},other,{children:(state,childProps)=>react.cloneElement(children,(0,esm_extends.Z)({ref:handleRef,style:(0,esm_extends.Z)({visibility:"exited"!==state||inProp?void 0:"hidden"},style,children.props.style)},childProps))}))});var Paper=__webpack_require__(90629),capitalize=__webpack_require__(98216),useThemeProps=__webpack_require__(71657),styled=__webpack_require__(90948),generateUtilityClasses=__webpack_require__(1588),generateUtilityClass=__webpack_require__(34867);function getDrawerUtilityClass(slot){return(0,generateUtilityClass.Z)("MuiDrawer",slot)}(0,generateUtilityClasses.Z)("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);let Drawer_excluded=["BackdropProps"],_excluded2=["anchor","BackdropProps","children","className","elevation","hideBackdrop","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"],overridesResolver=(props,styles)=>{let{ownerState}=props;return[styles.root,("permanent"===ownerState.variant||"persistent"===ownerState.variant)&&styles.docked,styles.modal]},useUtilityClasses=ownerState=>{let{classes,anchor,variant}=ownerState,slots={root:["root"],docked:[("permanent"===variant||"persistent"===variant)&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${(0,capitalize.Z)(anchor)}`,"temporary"!==variant&&`paperAnchorDocked${(0,capitalize.Z)(anchor)}`]};return(0,composeClasses.Z)(slots,getDrawerUtilityClass,classes)},DrawerRoot=(0,styled.ZP)(Modal.Z,{name:"MuiDrawer",slot:"Root",overridesResolver})(({theme})=>({zIndex:(theme.vars||theme).zIndex.drawer})),DrawerDockedRoot=(0,styled.ZP)("div",{shouldForwardProp:styled.FO,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver})({flex:"0 0 auto"}),DrawerPaper=(0,styled.ZP)(Paper.Z,{name:"MuiDrawer",slot:"Paper",overridesResolver(props,styles){let{ownerState}=props;return[styles.paper,styles[`paperAnchor${(0,capitalize.Z)(ownerState.anchor)}`],"temporary"!==ownerState.variant&&styles[`paperAnchorDocked${(0,capitalize.Z)(ownerState.anchor)}`]]}})(({theme,ownerState})=>(0,esm_extends.Z)({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(theme.vars||theme).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},"left"===ownerState.anchor&&{left:0},"top"===ownerState.anchor&&{top:0,left:0,right:0,height:"auto",maxHeight:"100%"},"right"===ownerState.anchor&&{right:0},"bottom"===ownerState.anchor&&{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},"left"===ownerState.anchor&&"temporary"!==ownerState.variant&&{borderRight:`1px solid ${(theme.vars||theme).palette.divider}`},"top"===ownerState.anchor&&"temporary"!==ownerState.variant&&{borderBottom:`1px solid ${(theme.vars||theme).palette.divider}`},"right"===ownerState.anchor&&"temporary"!==ownerState.variant&&{borderLeft:`1px solid ${(theme.vars||theme).palette.divider}`},"bottom"===ownerState.anchor&&"temporary"!==ownerState.variant&&{borderTop:`1px solid ${(theme.vars||theme).palette.divider}`})),oppositeDirection={left:"right",right:"left",top:"down",bottom:"up"},Drawer=react.forwardRef(function(inProps,ref){let props=(0,useThemeProps.Z)({props:inProps,name:"MuiDrawer"}),theme=(0,useTheme.Z)(),defaultTransitionDuration={enter:theme.transitions.duration.enteringScreen,exit:theme.transitions.duration.leavingScreen},{anchor:anchorProp="left",BackdropProps,children,className,elevation=16,hideBackdrop=!1,ModalProps:{BackdropProps:BackdropPropsProp}={},onClose,open=!1,PaperProps={},SlideProps,TransitionComponent=Slide,transitionDuration=defaultTransitionDuration,variant="temporary"}=props,ModalProps=(0,objectWithoutPropertiesLoose.Z)(props.ModalProps,Drawer_excluded),other=(0,objectWithoutPropertiesLoose.Z)(props,_excluded2),mounted=react.useRef(!1);react.useEffect(()=>{mounted.current=!0},[]);let anchorInvariant="rtl"===theme.direction&&-1!==["left","right"].indexOf(anchorProp)?oppositeDirection[anchorProp]:anchorProp,ownerState=(0,esm_extends.Z)({},props,{anchor:anchorProp,elevation,open,variant},other),classes=useUtilityClasses(ownerState),drawer=(0,jsx_runtime.jsx)(DrawerPaper,(0,esm_extends.Z)({elevation:"temporary"===variant?elevation:0,square:!0},PaperProps,{className:(0,clsx_m.Z)(classes.paper,PaperProps.className),ownerState:ownerState,children:children}));if("permanent"===variant)return(0,jsx_runtime.jsx)(DrawerDockedRoot,(0,esm_extends.Z)({className:(0,clsx_m.Z)(classes.root,classes.docked,className),ownerState:ownerState,ref:ref},other,{children:drawer}));let slidingDrawer=(0,jsx_runtime.jsx)(TransitionComponent,(0,esm_extends.Z)({in:open,direction:oppositeDirection[anchorInvariant],timeout:transitionDuration,appear:mounted.current},SlideProps,{children:drawer}));return"persistent"===variant?(0,jsx_runtime.jsx)(DrawerDockedRoot,(0,esm_extends.Z)({className:(0,clsx_m.Z)(classes.root,classes.docked,className),ownerState:ownerState,ref:ref},other,{children:slidingDrawer})):(0,jsx_runtime.jsx)(DrawerRoot,(0,esm_extends.Z)({BackdropProps:(0,esm_extends.Z)({},BackdropProps,BackdropPropsProp,{transitionDuration}),className:(0,clsx_m.Z)(classes.root,classes.modal,className),open:open,ownerState:ownerState,onClose:onClose,hideBackdrop:hideBackdrop,ref:ref},other,ModalProps,{children:slidingDrawer}))});var Drawer_Drawer=Drawer},76887:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{kL:function(){return Chart$1}});var GoogleDataTableColumnRoleType,GoogleDataTableColumnRoleType1,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(67294);function LoadGoogleCharts(param){let{onLoad,onError,...params}=param,[googleCharts,failed]=function(param){var src,onLoad,onError;let{chartVersion="current",chartPackages=["corechart","controls"],chartLanguage="en",mapsApiKey}=param,[googleCharts,setGoogleCharts]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),[failed,setFailed]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1);return src="https://www.gstatic.com/charts/loader.js",onLoad=()=>{let google=null==window?void 0:window.google;google&&(google.charts.load(chartVersion,{packages:chartPackages,language:chartLanguage,mapsApiKey}),google.charts.setOnLoadCallback(()=>{setGoogleCharts(google)}))},onError=()=>{setFailed(!0)},(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{if(!document)return;let foundScript=document.querySelector('script[src="'.concat(src,'"]'));if(null==foundScript?void 0:foundScript.dataset.loaded){null==onLoad||onLoad();return}let script=foundScript||document.createElement("script");foundScript||(script.src=src);let onLoadWithMarker=()=>{script.dataset.loaded="1",null==onLoad||onLoad()};return script.addEventListener("load",onLoadWithMarker),onError&&script.addEventListener("error",onError),foundScript||document.head.append(script),()=>{script.removeEventListener("load",onLoadWithMarker),onError&&script.removeEventListener("error",onError)}},[]),[googleCharts,failed]}(params);return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{googleCharts&&onLoad&&onLoad(googleCharts)},[googleCharts]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{failed&&onError&&onError()},[failed]),null}let chartDefaultProps={legend_toggle:!1,options:{},legendToggle:!1,getChartWrapper(){},spreadSheetQueryParameters:{headers:1,gid:1},rootProps:{},chartWrapperParams:{}},uniqueID=0,generateUniqueID=()=>(uniqueID+=1,"reactgooglegraph-".concat(uniqueID)),DEFAULT_CHART_COLORS=["#3366CC","#DC3912","#FF9900","#109618","#990099","#3B3EAC","#0099C6","#DD4477","#66AA00","#B82E2E","#316395","#994499","#22AA99","#AAAA11","#6633CC","#E67300","#8B0707","#329262","#5574A6","#3B3EAC"],loadDataTableFromSpreadSheet=async function(googleViz,spreadSheetUrl){let urlParams=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((resolve,reject)=>{let headers="".concat(urlParams.headers?"headers=".concat(urlParams.headers):"headers=0"),queryString="".concat(urlParams.query?"&tq=".concat(encodeURIComponent(urlParams.query)):""),gid="".concat(urlParams.gid?"&gid=".concat(urlParams.gid):""),sheet="".concat(urlParams.sheet?"&sheet=".concat(urlParams.sheet):""),access_token="".concat(urlParams.access_token?"&access_token=".concat(urlParams.access_token):""),urlQueryString="".concat(headers).concat(gid).concat(sheet).concat(queryString).concat(access_token),urlToSpreadSheet="".concat(spreadSheetUrl,"/gviz/tq?").concat(urlQueryString),query=new googleViz.visualization.Query(urlToSpreadSheet);query.send(response=>{response.isError()?reject("Error in query:  ".concat(response.getMessage()," ").concat(response.getDetailedMessage())):resolve(response.getDataTable())})})},{Provider,Consumer}=react__WEBPACK_IMPORTED_MODULE_0__.createContext(chartDefaultProps),ContextProvider=param=>{let{children,value}=param;return react__WEBPACK_IMPORTED_MODULE_0__.createElement(Provider,{value:value},children)},ContextConsumer=param=>{let{render}=param;return react__WEBPACK_IMPORTED_MODULE_0__.createElement(Consumer,null,context=>render(context))};class GoogleChartDataTableInner extends react__WEBPACK_IMPORTED_MODULE_0__.Component{componentDidMount(){this.draw(this.props),window.addEventListener("resize",this.onResize),(this.props.legend_toggle||this.props.legendToggle)&&this.listenToLegendToggle()}componentWillUnmount(){let{google,googleChartWrapper}=this.props;window.removeEventListener("resize",this.onResize),google.visualization.events.removeAllListeners(googleChartWrapper),"Timeline"===googleChartWrapper.getChartType()&&googleChartWrapper.getChart()&&googleChartWrapper.getChart().clearChart()}componentDidUpdate(){this.draw(this.props)}render(){return null}constructor(...args){super(...args),this.state={hiddenColumns:[]},this.listenToLegendToggle=()=>{let{google,googleChartWrapper}=this.props;google.visualization.events.addListener(googleChartWrapper,"select",()=>{let chart=googleChartWrapper.getChart(),selection=chart.getSelection(),dataTable=googleChartWrapper.getDataTable();if(0===selection.length||selection[0].row||!dataTable)return;let columnIndex=selection[0].column,columnID=this.getColumnID(dataTable,columnIndex);this.state.hiddenColumns.includes(columnID)?this.setState(state=>({...state,hiddenColumns:[...state.hiddenColumns.filter(colID=>colID!==columnID)]})):this.setState(state=>({...state,hiddenColumns:[...state.hiddenColumns,columnID]}))})},this.applyFormatters=(dataTable,formatters)=>{let{google}=this.props;for(let formatter of formatters)switch(formatter.type){case"ArrowFormat":{let vizFormatter=new google.visualization.ArrowFormat(formatter.options);vizFormatter.format(dataTable,formatter.column);break}case"BarFormat":{let vizFormatter1=new google.visualization.BarFormat(formatter.options);vizFormatter1.format(dataTable,formatter.column);break}case"ColorFormat":{let vizFormatter2=new google.visualization.ColorFormat(formatter.options),{ranges}=formatter;for(let range of ranges)vizFormatter2.addRange(...range);vizFormatter2.format(dataTable,formatter.column);break}case"DateFormat":{let vizFormatter3=new google.visualization.DateFormat(formatter.options);vizFormatter3.format(dataTable,formatter.column);break}case"NumberFormat":{let vizFormatter4=new google.visualization.NumberFormat(formatter.options);vizFormatter4.format(dataTable,formatter.column);break}case"PatternFormat":{let vizFormatter5=new google.visualization.PatternFormat(formatter.options);vizFormatter5.format(dataTable,formatter.column)}}},this.getColumnID=(dataTable,columnIndex)=>dataTable.getColumnId(columnIndex)||dataTable.getColumnLabel(columnIndex),this.draw=async param=>{let dataTable,{data,diffdata,rows,columns,options,legend_toggle,legendToggle,chartType,formatters,spreadSheetUrl,spreadSheetQueryParameters}=param,{google,googleChartWrapper}=this.props,chartDiff=null;if(diffdata){let oldData=google.visualization.arrayToDataTable(diffdata.old),newData=google.visualization.arrayToDataTable(diffdata.new);chartDiff=google.visualization[chartType].prototype.computeDiff(oldData,newData)}dataTable=null!==data?Array.isArray(data)?google.visualization.arrayToDataTable(data):new google.visualization.DataTable(data):rows&&columns?google.visualization.arrayToDataTable([columns,...rows]):spreadSheetUrl?await loadDataTableFromSpreadSheet(google,spreadSheetUrl,spreadSheetQueryParameters):google.visualization.arrayToDataTable([]);let columnCount=dataTable.getNumberOfColumns();for(let i=0;i<columnCount;i+=1){let columnID=this.getColumnID(dataTable,i);if(this.state.hiddenColumns.includes(columnID)){let previousColumnLabel=dataTable.getColumnLabel(i),previousColumnID=dataTable.getColumnId(i),previousColumnType=dataTable.getColumnType(i);dataTable.removeColumn(i),dataTable.addColumn({label:previousColumnLabel,id:previousColumnID,type:previousColumnType})}}let chart=googleChartWrapper.getChart();"Timeline"===googleChartWrapper.getChartType()&&chart&&chart.clearChart(),googleChartWrapper.setChartType(chartType),googleChartWrapper.setOptions(options||{}),googleChartWrapper.setDataTable(dataTable),googleChartWrapper.draw(),null!==this.props.googleChartDashboard&&this.props.googleChartDashboard.draw(dataTable),chartDiff&&(googleChartWrapper.setDataTable(chartDiff),googleChartWrapper.draw()),formatters&&(this.applyFormatters(dataTable,formatters),googleChartWrapper.setDataTable(dataTable),googleChartWrapper.draw()),(!0===legendToggle||!0===legend_toggle)&&this.grayOutHiddenColumns({options})},this.grayOutHiddenColumns=param=>{let{options}=param,{googleChartWrapper}=this.props,dataTable=googleChartWrapper.getDataTable();if(!dataTable)return;let columnCount=dataTable.getNumberOfColumns(),hasAHiddenColumn=this.state.hiddenColumns.length>0;if(!1===hasAHiddenColumn)return;let colors=Array.from({length:columnCount-1}).map((dontcare,i)=>{let columnID=this.getColumnID(dataTable,i+1);return this.state.hiddenColumns.includes(columnID)?"#CCCCCC":options&&options.colors?options.colors[i]:DEFAULT_CHART_COLORS[i]});googleChartWrapper.setOptions({...options,colors}),googleChartWrapper.draw()},this.onResize=()=>{let{googleChartWrapper}=this.props;googleChartWrapper.draw()}}}class GoogleChartDataTable extends react__WEBPACK_IMPORTED_MODULE_0__.Component{componentDidMount(){}componentWillUnmount(){}shouldComponentUpdate(){return!1}render(){let{google,googleChartWrapper,googleChartDashboard}=this.props;return react__WEBPACK_IMPORTED_MODULE_0__.createElement(ContextConsumer,{render:props=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(GoogleChartDataTableInner,Object.assign({},props,{google:google,googleChartWrapper:googleChartWrapper,googleChartDashboard:googleChartDashboard}))})}}class GoogleChartEvents extends react__WEBPACK_IMPORTED_MODULE_0__.Component{shouldComponentUpdate(){return!1}listenToEvents(param){let{chartEvents,google,googleChartWrapper}=param;if(chartEvents)for(let event of(google.visualization.events.removeAllListeners(googleChartWrapper),chartEvents)){var _this=this;let{eventName,callback}=event;google.visualization.events.addListener(googleChartWrapper,eventName,function(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];callback({chartWrapper:googleChartWrapper,props:_this.props,google:google,eventArgs:args})})}}render(){let{google,googleChartWrapper}=this.props;return react__WEBPACK_IMPORTED_MODULE_0__.createElement(ContextConsumer,{render:propsFromContext=>(this.listenToEvents({chartEvents:propsFromContext.chartEvents||null,google,googleChartWrapper}),null)})}}let controlCounter=0;class GoogleChart extends react__WEBPACK_IMPORTED_MODULE_0__.Component{componentDidMount(){let{options,google,chartType,chartWrapperParams,toolbarItems,getChartEditor,getChartWrapper}=this.props,chartConfig={chartType,options,containerId:this.getGraphID(),...chartWrapperParams},googleChartWrapper=new google.visualization.ChartWrapper(chartConfig);googleChartWrapper.setOptions(options||{}),getChartWrapper&&getChartWrapper(googleChartWrapper,google);let googleChartDashboard=new google.visualization.Dashboard(this.dashboard_ref),googleChartControls=this.addControls(googleChartWrapper,googleChartDashboard);toolbarItems&&google.visualization.drawToolbar(this.toolbar_ref.current,toolbarItems);let googleChartEditor=null;getChartEditor&&getChartEditor({chartEditor:googleChartEditor=new google.visualization.ChartEditor,chartWrapper:googleChartWrapper,google}),this.setState({googleChartEditor,googleChartControls:googleChartControls,googleChartDashboard:googleChartDashboard,googleChartWrapper,isReady:!0})}componentDidUpdate(){if(!this.state.googleChartWrapper||!this.state.googleChartDashboard||!this.state.googleChartControls)return;let{controls}=this.props;if(controls)for(let i=0;i<controls.length;i+=1){let{controlType,options,controlWrapperParams}=controls[i];controlWrapperParams&&"state"in controlWrapperParams&&this.state.googleChartControls[i].control.setState(controlWrapperParams.state),this.state.googleChartControls[i].control.setOptions(options),this.state.googleChartControls[i].control.setControlType(controlType)}}shouldComponentUpdate(nextProps,nextState){return this.state.isReady!==nextState.isReady||nextProps.controls!==this.props.controls}render(){let{width,height,options,style}=this.props,divStyle={height:height||options&&options.height,width:width||options&&options.width,...style};return this.props.render?react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{ref:this.dashboard_ref,style:divStyle},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{ref:this.toolbar_ref,id:"toolbar"}),this.props.render({renderChart:this.renderChart,renderControl:this.renderControl,renderToolbar:this.renderToolBar})):react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{ref:this.dashboard_ref,style:divStyle},this.renderControl(param=>{let{controlProp}=param;return"bottom"!==controlProp.controlPosition}),this.renderChart(),this.renderControl(param=>{let{controlProp}=param;return"bottom"===controlProp.controlPosition}),this.renderToolBar())}constructor(...args1){var _this1;super(),_this1=this,this.state={googleChartWrapper:null,googleChartDashboard:null,googleChartControls:null,googleChartEditor:null,isReady:!1},this.graphID=null,this.dashboard_ref=react__WEBPACK_IMPORTED_MODULE_0__.createRef(),this.toolbar_ref=react__WEBPACK_IMPORTED_MODULE_0__.createRef(),this.getGraphID=()=>{let instanceGraphID;let{graphID,graph_id}=this.props;return instanceGraphID=graphID||graph_id?graphID&&!graph_id?graphID:graph_id&&!graphID?graph_id:graphID:this.graphID?this.graphID:generateUniqueID(),this.graphID=instanceGraphID,this.graphID},this.getControlID=(id,index)=>(controlCounter+=1,void 0===id?"googlechart-control-".concat(index,"-").concat(controlCounter):id),this.addControls=(googleChartWrapper,googleChartDashboard)=>{let{google,controls}=this.props,googleChartControls=controls?controls.map((control,i)=>{let{controlID:controlIDMaybe,controlType,options:controlOptions,controlWrapperParams}=control,controlID=this.getControlID(controlIDMaybe,i);return{controlProp:control,control:new google.visualization.ControlWrapper({containerId:controlID,controlType,options:controlOptions,...controlWrapperParams})}}):null;if(!googleChartControls)return null;for(let chartControl of(googleChartDashboard.bind(googleChartControls.map(param=>{let{control}=param;return control}),googleChartWrapper),googleChartControls)){let{control,controlProp}=chartControl,{controlEvents=[]}=controlProp;for(let event of controlEvents){var _this=this;let{callback,eventName}=event;google.visualization.events.removeListener(control,eventName,callback),google.visualization.events.addListener(control,eventName,function(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];callback({chartWrapper:googleChartWrapper,controlWrapper:control,props:_this.props,google:google,eventArgs:args})})}}return googleChartControls},this.renderChart=()=>{let{width,height,options,style,className,rootProps,google}=this.props,divStyle={height:height||options&&options.height,width:width||options&&options.width,...style};return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",Object.assign({id:this.getGraphID(),style:divStyle,className:className},rootProps),this.state.isReady&&null!==this.state.googleChartWrapper?react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(GoogleChartDataTable,{googleChartWrapper:this.state.googleChartWrapper,google:google,googleChartDashboard:this.state.googleChartDashboard}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(GoogleChartEvents,{googleChartWrapper:this.state.googleChartWrapper,google:google})):null)},this.renderControl=function(){let filter=arguments.length>0&&void 0!==arguments[0]?arguments[0]:param=>!0;return _this1.state.isReady&&null!==_this1.state.googleChartControls?react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,_this1.state.googleChartControls.filter(param=>{let{controlProp,control}=param;return filter({control,controlProp})}).map(param=>{let{control,controlProp}=param;return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{key:control.getContainerId(),id:control.getContainerId()})})):null},this.renderToolBar=()=>this.props.toolbarItems?react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{ref:this.toolbar_ref}):null}}class Chart$1 extends react__WEBPACK_IMPORTED_MODULE_0__.Component{render(){let{chartLanguage,chartPackages,chartVersion,mapsApiKey,loader,errorElement}=this.props;return react__WEBPACK_IMPORTED_MODULE_0__.createElement(ContextProvider,{value:this.props},"ready"===this.state.loadingStatus&&null!==this.state.google?react__WEBPACK_IMPORTED_MODULE_0__.createElement(GoogleChart,Object.assign({},this.props,{google:this.state.google})):"errored"===this.state.loadingStatus&&errorElement?errorElement:loader,react__WEBPACK_IMPORTED_MODULE_0__.createElement(LoadGoogleCharts,{chartLanguage:chartLanguage,chartPackages:chartPackages,chartVersion:chartVersion,mapsApiKey:mapsApiKey,onLoad:this.onLoad,onError:this.onError}))}componentDidMount(){this._isMounted=!0}componentWillUnmount(){this._isMounted=!1}isFullyLoaded(google){let{controls,toolbarItems,getChartEditor}=this.props;return google&&google.visualization&&google.visualization.ChartWrapper&&google.visualization.Dashboard&&(!controls||google.visualization.ChartWrapper)&&(!getChartEditor||google.visualization.ChartEditor)&&(!toolbarItems||google.visualization.drawToolbar)}constructor(...args){super(...args),this._isMounted=!1,this.state={loadingStatus:"loading",google:null},this.onLoad=google1=>{if(this.props.onLoad&&this.props.onLoad(google1),this.isFullyLoaded(google1))this.onSuccess(google1);else{let id=setInterval(()=>{let google=window.google;this._isMounted?google&&this.isFullyLoaded(google)&&(clearInterval(id),this.onSuccess(google)):clearInterval(id)},1e3)}},this.onSuccess=google=>{this.setState({loadingStatus:"ready",google})},this.onError=()=>{this.setState({loadingStatus:"errored"})}}}Chart$1.defaultProps=chartDefaultProps,(GoogleDataTableColumnRoleType=GoogleDataTableColumnRoleType1||(GoogleDataTableColumnRoleType1={})).annotation="annotation",GoogleDataTableColumnRoleType.annotationText="annotationText",GoogleDataTableColumnRoleType.certainty="certainty",GoogleDataTableColumnRoleType.emphasis="emphasis",GoogleDataTableColumnRoleType.interval="interval",GoogleDataTableColumnRoleType.scope="scope",GoogleDataTableColumnRoleType.style="style",GoogleDataTableColumnRoleType.tooltip="tooltip",GoogleDataTableColumnRoleType.domain="domain"}}]);